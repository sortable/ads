<html>
  <head>
    <title>Prebid.js - Individual Ad Unit Refresh Example</title>
    <!-- This CDN file is for demo only. Do not use it in production. -->
    <script src="https://cdn.jsdelivr.net/npm/@sortable/ads/dist/sortableads.min.js" async></script>
    <script> var sortableads = sortableads || []; </script>
    <script>
     var PREBID_TIMEOUT = 1000;

     var googletag = googletag || {};
     googletag.cmd = googletag.cmd || [];

     function initAdserver() {
       if (pbjs.initAdserverSet) return;
       (function() {
         var gads = document.createElement('script');
         gads.async = true;
         gads.type = 'text/javascript';
         var useSSL = 'https:' == document.location.protocol;
         gads.src = (useSSL ? 'https:' : 'http:') +
                    '//www.googletagservices.com/tag/js/gpt.js';
         var node = document.getElementsByTagName('script')[0];
         node.parentNode.insertBefore(gads, node);
       })();
       pbjs.initAdserverSet = true;
     };

     setTimeout(initAdserver, PREBID_TIMEOUT);

     var pbjs = pbjs || {};
     pbjs.que = pbjs.que || [];

     (function() {
       var pbjsEl = document.createElement("script");
       pbjsEl.type = "text/javascript";
       pbjsEl.async = true;
       pbjsEl.src = "//acdn.adnxs.com/prebid/not-for-prod/1/prebid.js";
       var pbjsTargetEl = document.getElementsByTagName("head")[0];
       pbjsTargetEl.insertBefore(pbjsEl, pbjsTargetEl.firstChild);
     })();

     sortableads.push(function() {
       sortableads.useGPTAsync();
       sortableads.usePrebidForGPTAsync();
       sortableads.set('bidderTimeout', PREBID_TIMEOUT);
       sortableads.defineAds([{
         elementId: 'div-gpt-ad-1438287399331-0',
         GPT: {
           adUnitPath: '/19968336/header-bid-tag-0',
           sizes: [[300, 250], [300, 600]]
         },
         prebid: {
           mediaTypes: {
             banner: {
               sizes: [[300, 250], [300, 600]],
             }
           },
           bids: [{
             bidder: 'appnexus',
             params: { placementId: '10433394' }
           }, {
             bidder: 'pubmatic',
             params: {
               publisherId: 'TO ADD',
               adSlot: 'TO ADD'
             }
           }]
         }
       }, {
         elementId: 'div-gpt-ad-1438287399331-1',
         GPT: {
           adUnitPath: '/19968336/header-bid-tag1',
           sizes: [[728, 90], [970, 90]]
         },
         prebid: {
           mediaTypes: {
             banner: {
               sizes: [[728, 90], [970, 90]],
             }
           },
           bids: [{
             bidder: 'appnexus',
             params: { placementId: '10433394' }
           }]
         }
       }]);
       sortableads.start();
     });

     pbjs.que.push(function() {
       pbjs.requestBids({
         bidsBackHandler: function(bidResponses) {
           initAdserver();
         }
       })
     });
    </script>

    <script>
     function refreshBid() {
       sortableads.push(function() {
         sortableads.requestAds(['div-gpt-ad-1438287399331-0']);
       });
     }
    </script>
  </head>

  <body>
    <h1>Prebid.js - Individual Ad Unit Refresh Example</h1>

    <h5>Div-1, 300x250 or 300x600</h5>

    <p><button onclick="refreshBid()">Refresh Ad Unit</button></p>

    <div id='div-gpt-ad-1438287399331-0'>
    </div>

  </body>
</html>
